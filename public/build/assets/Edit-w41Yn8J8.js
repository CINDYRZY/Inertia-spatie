import{X as h,G as f,j as e,S as j}from"./app-BJHpUxsG.js";import{A as g}from"./AuthenticatedLayout-BXwNTdzb.js";import{C as v,B as d,S as b}from"./Button-CrtORse8.js";import{C,I as N}from"./Card-BkM9UiTV.js";import{C as S}from"./Checkbox-cAQyyw68.js";import"./ApplicationLogo-D6eB31C3.js";import"./transition-VUrhxt2Q.js";function I({auth:o}){const{permissions:c,role:i}=h().props,{data:r,setData:n,post:m,errors:a}=f({name:i.name,selectedPermissions:i.permissions.map(s=>s.name),_method:"put"}),u=s=>{let t=r.selectedPermissions;t.includes(s.target.value)?t.splice(t.indexOf(s.target.value),1):t.push(s.target.value),n("selectedPermissions",t)},x=async s=>{s.preventDefault(),m(route("roles.update",i.id),{onSuccess:()=>{b.fire({title:"Success!",text:"Data created successfully!",icon:"success",showConfirmButton:!1,timer:1500})}})};return e.jsxs(g,{user:o.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Edit Role"}),children:[e.jsx(j,{title:"Edit Roles"}),e.jsx(v,{children:e.jsx(C,{title:"Edit role",children:e.jsxs("form",{onSubmit:x,children:[e.jsx("div",{className:"mb-4",children:e.jsx(N,{label:"Role Name",type:"text",value:r.name,onChange:s=>n("name",s.target.value),errors:a.name,placeholder:"Input role name.."})}),e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Object.entries(c).map(([s,t],p)=>e.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:s}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>e.jsx(S,{label:l,value:l,onChange:u,defaultChecked:r.selectedPermissions.includes(l)},l))}),(a==null?void 0:a.selectedPermissions)&&e.jsx("div",{className:"text-xs text-red-500 mt-4",children:a.selectedPermissions})]},p))})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{type:"submit"}),e.jsx(d,{type:"cancel",url:route("roles.index")})]})]})})})]})}export{I as default};
